# å’Œä¸º K çš„å­æ•°ç»„\*

[ğŸ”— LeetCode](https://leetcode.cn/problems/subarray-sum-equals-k/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•° ã€‚

**ç¤ºä¾‹** 1ï¼š

```js
è¾“å…¥ï¼šnums = [1,1,1], k = 2
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹** 2ï¼š

```js
è¾“å…¥ï¼šnums = [1,2,3], k = 3
è¾“å‡ºï¼š2
```

**æç¤º**ï¼šä¸¤ä¸ªå¦‚æœå•ç‹¬å¤„ç†

- 1 <= nums.length <= 2 \* 104
- -1000 <= nums[i] <= 1000
- -107 <= k <= 107

## è§£é¢˜æ€è·¯

é¢˜ç›®ä¿¡æ¯ï¼šè¿ç»­ï¼Œnums[i]å¯ä»¥ä¸ºè´Ÿæ•°

### æ€è·¯ä¸€

æš´åŠ›è§£æ³•ï¼ŒåŒå±‚å¾ªç¯ï¼Œå¤æ‚åº¦ O(n2)

### æ€è·¯äºŒ

å› ä¸º nums[i]å¯èƒ½ä¸ºè´Ÿæ•°ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ»‘åŠ¨çª—å£è°ƒæ•´çª—å£å†…å’Œçš„å¤§å°æ¥åŒ¹é… k

åªèƒ½ç”¨å‰ç¼€å’Œä¸å“ˆå¸Œæ¥è®²é—®é¢˜è½¬æ¢ä¸ºæ±‚å‰ç¼€å’Œçš„å·®å€¼ä¸º k
sum(i,j)=sum(0,j)-sum(0,i)

### é¦–æ¬¡ä»£ç 

```ts
function subarraySum(nums: number[], k: number): number {
  let res = 0

  for (let i = 0; i < nums.length; i++) {
    if (nums[i] === k) {
      res++
    }

    let sum = nums[i]

    for (let j = i + 1; j < nums.length; j++) {
      sum += nums[j]

      if (sum === k) {
        res++
      }
    }
  }

  return res
}
```

### ä¼˜åŒ–ä»£ç 

```ts
function subarraySum(nums: number[], k: number): number {
  const map: Record<number, number> = { 0: 1 }
  let prefixSum = 0
  let res = 0

  for (let i = 0; i < nums.length; i++) {
    prefixSum += nums[i]

    if (map[prefixSum - k]) {
      res += map[prefixSum - k]
    }

    map[prefixSum] = map[prefixSum] ? map[prefixSum] + 1 : 1
  }

  return res
}
```
