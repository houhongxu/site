# 147M 对链表进行插入排序

## 解题思路

### 思路一

首先虚拟头节点作为新表头，值设置为最小值这样肯定是升序方便查找插入位置

然后 cur 指向 head.next 是遍历开始节点，next 是 cur.next 插入后保持剩余节点不丢失

然后 findPrevNode 函数每次从头遍历找到插入节点 prev 位置并返回

遍历 cur，每次都找到插入位置 prev，插入 cur，然后 cur 重新指向剩余节点头 next 继续遍历即可

### 代码

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val, next) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.next = (next===undefined ? null : next)
 * }
 */
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var insertionSortList = function (head) {
  if (!head || !head.next) return head;

  const virtualHead = new ListNode(-5001, head);

  let cur = head.next;
  let next = cur.next;

  head.next = null;

  const findPrevNode = (node) => {
    let cur = virtualHead;
    let next = cur.next;

    while (next) {
      if (cur.val <= node.val && next.val > node.val) {
        return cur;
      }

      cur = next;
      next = next.next;
    }

    return cur;
  };

  while (cur) {
    const prev = findPrevNode(cur);

    cur.next = prev.next;
    prev.next = cur;

    cur = next;

    if (next) {
      next = next.next;
    }
  }

  return virtualHead.next;
};
```
