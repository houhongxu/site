# 221M 最大正方形

## 解题思路

### 思路一

动态规划

初始化

就和 matrix 内容一样，1 本身就是边长为 1 的正方形

dp 方程就代表边长，假设 dp[1][1]是 1，边长就是左、上、左上的最大值加一，相当于树的三个字节点

如果三个子节点有 0，则是根就是本身 1，如果三个子节点都是 1，则根为 2，数值累积类推

dp[i][j] = Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) + 1;

### 代码

```js
/**
 * @param {character[][]} matrix
 * @return {number}
 */
var maximalSquare = function (matrix) {
  const m = matrix.length;
  const n = matrix[0].length;
  const dp = [...new Array(m)].map(() => [...new Array(n)]);

  for (let i = 0; i < m; i++) {
    for (let j = 0; j < n; j++) {
      dp[i][j] = matrix[i][j] === "1" ? 1 : 0;
    }
  }

  for (let i = 1; i < m; i++) {
    for (let j = 1; j < n; j++) {
      if (matrix[i][j] === "1") {
        dp[i][j] = Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) + 1;
      }
    }
  }
  const side = Math.max(...dp.flat());

  return side * side;
};
```
