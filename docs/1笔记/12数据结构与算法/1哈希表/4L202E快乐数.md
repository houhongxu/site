# å¿«ä¹æ•°

[ğŸ”— LeetCode](https://leetcode.cn/problems/happy-number/)

ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° n æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚

ã€Œå¿«ä¹æ•°ã€ å®šä¹‰ä¸ºï¼š

å¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œã€‚
ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ æ— é™å¾ªç¯ ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚
å¦‚æœè¿™ä¸ªè¿‡ç¨‹ ç»“æœä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚
å¦‚æœ n æ˜¯ å¿«ä¹æ•° å°±è¿”å› true ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› false ã€‚

**ç¤ºä¾‹** 1ï¼š

```js
è¾“å…¥ï¼šn = 19
è¾“å‡ºï¼štrue
è§£é‡Šï¼š
12 + 92 = 82
82 + 22 = 68
62 + 82 = 100
12 + 02 + 02 = 1
```

**ç¤ºä¾‹** 2ï¼š

```js
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼šfalse
```

**æç¤º**ï¼š

- 1 <= n <= 231 - 1

## è§£é¢˜æ€è·¯

é¢˜ç›®ä¿¡æ¯ï¼šæ— é™å¾ªç¯

### æ€è·¯ä¸€

å“ˆå¸Œç¼“å­˜åˆ°ç¬¬ä¸€æ¬¡å¾ªç¯ç»“æŸï¼Œå‘ç”Ÿç¬¬äºŒæ¬¡å°±ä¸æ˜¯å¿«ä¹æ•°ï¼Œå¤æ‚åº¦ O(n)

éš¾ç‚¹è¿˜åœ¨äºå–æ¯ä¸€ä½ï¼Œéœ€è¦æ¯æ¬¡å–ä½™æ‹¿ä¸ªä½æ•°ï¼Œç„¶åå°† n/10 è¿›ä½ï¼Œjs è¿˜è¦æ³¨æ„å°æ•°é—®é¢˜

### é¦–æ¬¡ä»£ç 

```ts
function isHappy(n: number): boolean {
  const map: Record<string, boolean> = {}
  let res = n

  let count = 1000

  while (count) {
    if (res === 1) return true
    if (map[res] === true) return false

    map[res] = true

    res = getBitSum(res)

    count--
  }
}

function getBitSum(n: number) {
  let sum = 0
  let count = 1000

  while (n && count) {
    sum += (n % 10) * (n % 10)
    n = Math.floor(n / 10)

    count--
  }

  return sum
}
```
