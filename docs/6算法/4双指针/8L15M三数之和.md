# ä¸‰æ•°ä¹‹å’Œ\*

[ğŸ”— LeetCode](https://leetcode.cn/problems/3sum/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ [nums[i], nums[j], nums[k]] æ»¡è¶³ i != jã€i != k ä¸” j != k ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ nums[i] + nums[j] + nums[k] == 0 ã€‚è¯·

ä½ è¿”å›æ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**ç¤ºä¾‹** 1ï¼š

```js
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
```

**ç¤ºä¾‹** 2ï¼š

```js
è¾“å…¥ï¼šnums = [0,1,1]
è¾“å‡ºï¼š[]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
```

**ç¤ºä¾‹** 3ï¼š

```js
è¾“å…¥ï¼šnums = [0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚
```

**æç¤º**ï¼š

- 3 <= nums.length <= 3000
- -105 <= nums[i] <= 105

## è§£é¢˜æ€è·¯

é¢˜ç›®ä¿¡æ¯ï¼šnums[i] + nums[j] + nums[k] == 0ï¼Œä¸é‡å¤ä¸”é¡ºåºå¹¶ä¸é‡è¦

### æ€è·¯ä¸€

æš´åŠ›å¾ªç¯ 3 å±‚ï¼Œå¤æ‚åº¦ O(n3)ï¼Œéœ€è¦é™å¤æ‚åº¦ï¼Œå“ˆå¸Œé™ä¸€å±‚ï¼Œå¤æ‚åº¦ O(n2)

### æ€è·¯äºŒ

å‘ç°éœ€è¦å»é‡ï¼Œéœ€è¦å•ç‹¬å»é‡ï¼Œé¿å…åœ¨å¾ªç¯å†…æé«˜å¤æ‚åº¦

### æ€è·¯ä¸‰

å‘ç°ä¼šå†…å­˜æº¢å‡ºï¼Œä¸èƒ½å•ç‹¬å»é‡ï¼Œåœ¨å¾ªç¯å†…å»é‡å¹¶ä½¿ç”¨ hash é™ä½å¤æ‚åº¦

### æ€è·¯å››

å“ˆå¸Œæ³•å»é‡æ€§èƒ½å¤ªå·®ï¼Œä¸‰æŒ‡é’ˆæ³•æ»‘åŠ¨æ•ˆç‡æ›´é«˜ï¼Œi éå†ï¼Œj,k åœ¨åé¢çš„å·¦å’Œå³è¾¹ï¼Œj å‘å³ç§»åŠ¨ï¼Œå¤§äº 0 åˆ™ k å‘å·¦ç§»åŠ¨ï¼Œç›´åˆ° jk ç›¸é‡

### é¦–æ¬¡ä»£ç 

```ts
// æš´åŠ›å¾ªç¯3å±‚ï¼Œå¤æ‚åº¦O(n3)ï¼Œéœ€è¦é™å¤æ‚åº¦
// å“ˆå¸Œé™ä¸€å±‚ï¼Œå¤æ‚åº¦O(n2)

function threeSum(nums: number[]): number[][] {
  // nums[j]+nums[k]===-nums[i]
  // å“ˆå¸Œå­˜nums[i]

  const hash = {};
  let res = [];

  for (let i = 0; i < nums.length; i++) {
    hash[-nums[i]] = i;
  }

  for (let j = 0; j < nums.length; j++) {
    for (let k = 0; k < nums.length; k++) {
      // æ¡ä»¶
      const iIndex = hash[nums[j] + nums[k]];
      const isDiffIndex = iIndex !== j && iIndex !== k && j !== k;

      if (hash[nums[j] + nums[k]] !== undefined && isDiffIndex) {
        const arr = [-(nums[j] + nums[k]), nums[j], nums[k]];
        console.log(arr);
        // å»é‡
        if (!res.some((i) => isSameArray(i, arr))) {
          res.push(arr);
        }
      }
    }
  }

  return res;
}

function isSameArray(arr1: number[], arr2: number[]) {
  const hash = {};

  for (let i = 0; i < arr1.length; i++) {
    hash[arr1[i]] = hash[arr1[i]] ? hash[arr1[i]] + 1 : 1;
  }

  for (let j = 0; j < arr2.length; j++) {
    const isDiff = !hash[arr2[j]]--;

    if (isDiff) {
      return false;
    }
  }

  return true;
}
```

### äºŒæ¬¡ä»£ç 

```ts
// æš´åŠ›å¾ªç¯3å±‚ï¼Œå¤æ‚åº¦O(n3)ï¼Œéœ€è¦é™å¤æ‚åº¦
// å“ˆå¸Œé™ä¸€å±‚ï¼Œå¤æ‚åº¦O(n2)
// å‘ç°éœ€è¦å»é‡ï¼Œéœ€è¦å•ç‹¬å»é‡

function threeSum(nums: number[]): number[][] {
  // nums[j]+nums[k]===-nums[i]
  // å“ˆå¸Œå­˜nums[i]

  const hash = new Map();
  let res = [];

  for (let i = 0; i < nums.length; i++) {
    hash.set(-nums[i], i);
  }

  for (let j = 0; j < nums.length; j++) {
    for (let k = 0; k < nums.length; k++) {
      // æ¡ä»¶
      const iIndex = hash.get(nums[j] + nums[k]);
      const isDiffIndex = iIndex !== j && iIndex !== k && j !== k;
      const isRes = iIndex !== undefined;

      if (isRes && isDiffIndex) {
        const arr = [-(nums[j] + nums[k]), nums[j], nums[k]];
        res.push(arr);
      }
    }
  }

  // å»é‡
  const uniqueRes = unique(
    res.map((i) => i.sort((a, b) => a - b).toString())
  ).map(toNumberArray);

  return uniqueRes;
}

function unique(arr: any[]) {
  return Array.from(new Set(arr));
}

function toNumberArray(str: string) {
  return str.split(",").map((i) => parseInt(i));
}
```

### ä¸‰æ¬¡ä»£ç 

```ts
// æš´åŠ›å¾ªç¯3å±‚ï¼Œå¤æ‚åº¦O(n3)ï¼Œéœ€è¦é™å¤æ‚åº¦
// å“ˆå¸Œé™ä¸€å±‚ï¼Œå¤æ‚åº¦O(n2)
// å‘ç°éœ€è¦å»é‡ï¼Œéœ€è¦å•ç‹¬å»é‡
// å‘ç°ä¼šå†…å­˜æº¢å‡ºï¼Œä¸èƒ½å•ç‹¬å»é‡

function threeSum(nums: number[]): number[][] {
  // nums[j]+nums[k]===-nums[i]
  // å“ˆå¸Œå­˜nums[i]

  const iHash = new Map();
  let stringHash = new Map();
  const uniqueRes = [];

  for (let i = 0; i < nums.length; i++) {
    iHash.set(-nums[i], i);
  }

  for (let j = 0; j < nums.length; j++) {
    for (let k = 0; k < nums.length; k++) {
      // æ¡ä»¶
      const iIndex = iHash.get(nums[j] + nums[k]);
      const isDiffIndex = iIndex !== j && iIndex !== k && j !== k;
      const isRes = iIndex !== undefined;

      if (isRes && isDiffIndex) {
        const arr = [-(nums[j] + nums[k]), nums[j], nums[k]];
        const str = arr.sort((a, b) => a - b).toString();

        // å­—ç¬¦ä¸²åŒ–å»é‡
        if (!stringHash.has(str)) {
          stringHash.set(str, true);
          // æ•°ç»„åŒ–è¿”å›ç»“æœ
          uniqueRes.push(toNumberArray(str));
        }
      }
    }
  }

  return uniqueRes;
}

function toNumberArray(str: string) {
  return str.split(",").map((i) => parseInt(i));
}
```

### å››æ¬¡ä»£ç 

```ts
// æš´åŠ›å¾ªç¯3å±‚ï¼Œå¤æ‚åº¦O(n3)ï¼Œéœ€è¦é™å¤æ‚åº¦
// å“ˆå¸Œé™ä¸€å±‚ï¼Œå¤æ‚åº¦O(n2)
// å‘ç°éœ€è¦å»é‡ï¼Œéœ€è¦å•ç‹¬å»é‡
// å‘ç°ä¼šå†…å­˜æº¢å‡ºï¼Œä¸èƒ½å•ç‹¬å»é‡
// å“ˆå¸Œæ³•å»é‡æ€§èƒ½å¤ªå·®ï¼Œä¸‰æŒ‡é’ˆæ³•æ»‘åŠ¨æ•ˆç‡æ›´é«˜

function threeSum(nums: number[]): number[][] {
  nums.sort((a, b) => a - b);
  const res = [];
  const hash = new Map();

  for (let i = 0; i < nums.length; i++) {
    for (let j = i + 1, k = nums.length - 1; j < k; ) {
      const sum = nums[i] + nums[j] + nums[k];

      if (sum < 0) {
        j++;
      } else if (sum > 0) {
        k--;
      } else {
        const arr = [nums[i], nums[j], nums[k]];
        const key = arr.toString();

        if (!hash.has(key)) {
          res.push(arr);
          hash.set(key, true);
        }

        j++;
        k = nums.length - 1;
      }
    }
  }

  return res;
}
```
